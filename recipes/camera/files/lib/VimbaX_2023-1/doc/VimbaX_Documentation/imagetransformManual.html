<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Image Transform Manual &mdash; Vimba X Developer Guide 2023-1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/pygments_new.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="Python API Manual" href="pythonAPIManual.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> Vimba X Developer Guide
          </a>
              <div class="version">
                2023-1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Get Started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About Vimba X</a></li>
<li class="toctree-l1"><a class="reference internal" href="migrationGuide.html">Migration Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="examplesOverview.html">Examples Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Manuals:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="driverInstaller.html">Driver Installer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="fwUpdater.html">Firmware Updater Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="viewerGuide.html">Viewer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="sdkManual.html">SDK Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="cAPIManual.html">C API Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="cppAPIManual.html">CPP API Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="pythonAPIManual.html">Python API Manual</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Image Transform Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#general-aspects-of-the-library">General aspects of the library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#usage-with-the-c-and-c-api">Usage with the C and C++ API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#variants">Variants</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#optimizing-openmp-performance">Optimizing OpenMP performance</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#active-waiting-tasks-and-cpu-load">Active waiting tasks and CPU load</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setting-up-environment-variables">Setting up environment variables</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supported-image-data-formats">Supported image data formats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#image-file-formats-vs-image-data-formats">Image file formats vs image data formats</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmb-pixel-formats-and-pfnc-pixel-formats">Vmb pixel formats and PFNC pixel formats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#supported-transformations">Supported transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#api-usage">API usage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-aspects">General aspects</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filling-image-information">Filling Image Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specifying-transformation-options">Specifying transformation options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adding-color-transformations">Adding color transformations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#changing-the-debayering-algorithm">Changing the debayering algorithm</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#transforming-images">Transforming images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#transformation-examples">Transformation examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#debayering-into-an-rgb8-image">Debayering into an Rgb8 image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#debayering-into-a-mono8-image">Debayering into a Mono8 image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#color-correction-of-an-rgb8-image">Color correction of an Rgb8 image</a></li>
<li class="toctree-l3"><a class="reference internal" href="#advanced-transformation-with-debayering">Advanced transformation with debayering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#function-reference">Function reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#information">Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vmbgetversion">VmbGetVersion()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbgeterrorinfo">VmbGetErrorInfo()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbgetapiinfostring">VmbGetApiInfoString()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#transformation">Transformation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vmbimagetransform">VmbImageTransform()</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#helper-functions">Helper functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#vmbsetimageinfofrominputimage">VmbSetImageInfoFromInputImage()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbsetimageinfofrominputparameters">VmbSetImageInfoFromInputParameters()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbsetimageinfofrompixelformat">VmbSetImageInfoFromPixelFormat()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbsetimageinfofromstring">VmbSetImageInfoFromString()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbsetdebayermode">VmbSetDebayerMode()</a></li>
<li class="toctree-l4"><a class="reference internal" href="#vmbsetcolorcorrectionmatrix3x3">VmbSetColorCorrectionMatrix3x3()</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#structs">Structs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vmbimage">VmbImage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmbimageinfo">VmbImageInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmbpixelinfo">VmbPixelInfo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vmbtransforminfo">VmbTransformInfo</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Help &amp; information:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="legalInformation.html">Legal Information</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Vimba X Developer Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Image Transform Manual</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="image-transform-manual">
<h1>Image Transform Manual<a class="headerlink" href="#image-transform-manual" title="Permalink to this headline"></a></h1>
<section id="general-aspects-of-the-library">
<h2>General aspects of the library<a class="headerlink" href="#general-aspects-of-the-library" title="Permalink to this headline"></a></h2>
<section id="usage-with-the-c-and-c-api">
<h3>Usage with the C and C++ API<a class="headerlink" href="#usage-with-the-c-and-c-api" title="Permalink to this headline"></a></h3>
<p>The Image Transform library receives images from the C API or the C++ API.
You can transform these images into several common image formats without
knowing GenICam’s PFNC (Pixel Format Naming Convention) naming scheme.</p>
</section>
</section>
<section id="variants">
<h2>Variants<a class="headerlink" href="#variants" title="Permalink to this headline"></a></h2>
<p>The Image Transform Library is available in two variants:</p>
<ul class="simple">
<li><p>The <strong>standard variant</strong> executes a function call in a single thread.</p></li>
<li><p>The <strong>OpenMP variant</strong> distributes the function calls over multiple
processor cores (parallel computing).</p></li>
</ul>
<p>The OpenMP variant is recommended for achieving a high performance with
multi-core PCs: Although additional time is required to schedule the
subtasks, its performance roughly scales by the number of free cores.
Both library variants have the same interface and the same name,
but are delivered in different directories in the SDK installation,
allowing you to use the variant you want.
The OpenMP variant is located in the subdirectory <cite>OpenMP</cite> of the
single-threaded library variant.</p>
<p>Windows supports OpenMP V2.0, whereas Unix-based systems support OpenMP V4.0.</p>
<section id="optimizing-openmp-performance">
<h3>Optimizing OpenMP performance<a class="headerlink" href="#optimizing-openmp-performance" title="Permalink to this headline"></a></h3>
<p>The motivation behind OpenMP is to speed up computations by distributing them to the available
computing cores (hyper-threading or real cores).
To minimize the additional cost of thread management (starting or stopping threads), the OpenMP
runtime environment tries to reuse threads as much as possible.
Since the default values are not adjusted to your particular use case, we recommend optimizing them to
achieve high performance with low CPU load.</p>
<section id="active-waiting-tasks-and-cpu-load">
<h4>Active waiting tasks and CPU load<a class="headerlink" href="#active-waiting-tasks-and-cpu-load" title="Permalink to this headline"></a></h4>
<p>Ideally, threads are created when OpenMP is first used in an application, and they are always reused
without being interrupted by the system. In cases where the application has no work items ready when
tasks finish, the waiting tasks consume CPU power for a certain time and then become passive.
During active waiting, OpenMP uses high CPU load while no real work is done. This may lead to
situations where OpenMP consumes too many resources although the use case isn’t demanding (low
image resolution, slow frame rate).</p>
<p><strong>Example</strong></p>
<p>If frames arrive at 10 frames per second, there is one work item every 100 ms. Even if image
transformation only takes 10 ms, the threads are active for about 100 ms. OpenMP is underutilized in
this case because 90% of what it’s doing is waiting for new work.
If frames arrive at 100 frames per second (frames arrive at 10 ms intervals), OpenMP is working to
capacity, and all threads can take on new work directly after they have finished the previous one.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>It is recommended to use the same OpenMP runtime environment that the
Image Transform library uses (Windows: Visual Studio 2015 or higher;
Linux: gomp). In this case, Image Transform and the application share
OpenMP threads, workload is optimally distributed between worker tasks, and
waiting threads get new work fast.</p>
</div>
</section>
<section id="setting-up-environment-variables">
<h4>Setting up environment variables<a class="headerlink" href="#setting-up-environment-variables" title="Permalink to this headline"></a></h4>
<p>To optimize OpenMP, set up environment variables that determine
the number of threads used and OpenMP’s waiting time behavior.</p>
<p>Linux and Windows:</p>
<ul class="simple">
<li><p>OMP_NUM_THREADS=[number of threads for OpenMP usage]
Limits the number of threads that are utilized by OpenMP.
Lower this value to reduce the CPU load that OpenMP is taking
away from other application threads.</p></li>
</ul>
<p>Linux:</p>
<ul class="simple">
<li><p>If OpenMP is set to OMP_WAIT_POLICY=ACTIVE, this variable determines
how long a thread waits actively with consuming CPU power before
waiting passively without consuming CPU power. If work items arrive
at a high rate, it is best to let the thread’s spin wait actively for the
next work load. If work items arrive sporadically, a high spin count
leads to unnecessary high CPU load.
Setting GOMP_SPINCOUNT to 0 is the same as setting OMP_WAIT_POLICY to PASSIVE.</p></li>
</ul>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://gcc.gnu.org/onlinedocs/libgomp/Environment-Variables.html#Environment-Variables">GCC Environment Variables</a>
, <a class="reference external" href="https://docs.microsoft.com/en-us/cpp/parallel/openmp/reference/openmp-environment-variables?redirectedfrom=MSDN&amp;view=msvc-160">Visual Studio OpenMP Environment Variables</a></p>
</div>
</section>
</section>
</section>
<section id="supported-image-data-formats">
<h2>Supported image data formats<a class="headerlink" href="#supported-image-data-formats" title="Permalink to this headline"></a></h2>
<section id="image-file-formats-vs-image-data-formats">
<h3>Image file formats vs image data formats<a class="headerlink" href="#image-file-formats-vs-image-data-formats" title="Permalink to this headline"></a></h3>
<p>In contrast to image <em>file</em> formats such as PNG, image <em>data</em> formats contain no embedded
metadata, but only pure images as rectangular arrays of pixels. The
pixels have characteristics such as:</p>
<ul class="simple">
<li><p>Color</p></li>
<li><p>Bit depth</p></li>
<li><p>Endianness for a bit depth greater than eight</p></li>
<li><p>Order</p></li>
</ul>
<p>The pixel format name describes these characteristics.</p>
</section>
<section id="vmb-pixel-formats-and-pfnc-pixel-formats">
<span id="index-0"></span><h3>Vmb pixel formats and PFNC pixel formats<a class="headerlink" href="#vmb-pixel-formats-and-pfnc-pixel-formats" title="Permalink to this headline"></a></h3>
<p>The Image Transform library uses:</p>
<ul class="simple">
<li><p>Pixel formats from the GigE Vision and USB Vision interface specification</p></li>
<li><p>Pixel formats from GenICam’s Pixel Format Naming Convention (PFNC)</p></li>
<li><p>Common display formats on Windows and Linux platforms</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All implemented image transformations only accept multi-byte pixel formats in
little-endian byte order.</p>
</div>
<p>The names of the pixel formats mainly match the list of values of the
<code class="docutils literal notranslate"><span class="pre">PixelFormat</span></code> feature in the SFNC (Standard Features Naming Convention) of GenICam,
but the actual name depends on the interface standard according to the following table:</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Vmb pixel formats and their counterparts in interface standards</span><a class="headerlink" href="#id1" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 30%" />
<col style="width: 3%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Pixel format
(VmbPixelFormat…)</p></th>
<th class="head"><p>PFNC (USB3 Vision,
GigE Vision &gt;=2.0)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td colspan="2"><p>Mono8</p></td>
<td><p>Mono8</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Mono10</p></td>
<td><p>Mono10</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Mono10p</p></td>
<td><p>Mono10p</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Mono12</p></td>
<td><p>Mono12</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Mono12p</p></td>
<td><p>Mono12p</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Mono12Packed</p></td>
<td><p>not available</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Mono14</p></td>
<td><p>Mono14</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Mono16</p></td>
<td><p>Mono16</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>BayerXY*8</p></td>
<td><p>BayerXY*8</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>BayerXY*10</p></td>
<td><p>BayerXY*10</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>BayerXY*10p</p></td>
<td><p>BayerXY*10p</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>BayerXY*12</p></td>
<td><p>BayerXY*12</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>BayerXY*12p</p></td>
<td><p>BayerXY*12p</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>BayerXY*12Packed</p></td>
<td><p>not available</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>BayerXY*16</p></td>
<td><p>BayerXY*16</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgb8</p></td>
<td><p>RGB8</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgr8</p></td>
<td><p>BGR8</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgba8</p></td>
<td><p>RGBa8</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgra8</p></td>
<td><p>BGRa8</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgb10</p></td>
<td><p>RGB10</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgr10</p></td>
<td><p>BGR10</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgba10</p></td>
<td><p>RGBa10</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgra10</p></td>
<td><p>BGRa10</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgb12</p></td>
<td><p>RGB12</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgr12</p></td>
<td><p>BGR12</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgba12</p></td>
<td><p>RGBa12</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgra12</p></td>
<td><p>BGRa12</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgb16</p></td>
<td><p>RGB16</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgr16</p></td>
<td><p>BGR16</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Rgba16</p></td>
<td><p>RGBa16</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Bgra16</p></td>
<td><p>BGRa16</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Yuv411</p></td>
<td><p>YUV411_8_UYYVYY</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Yuv422</p></td>
<td><p>YUV422_8_UYVY</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>Yuv422_8</p></td>
<td><p>YUV422_8_YUYV</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>Yuv444</p></td>
<td><p>YUV8_UYV</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>YCbCr411_8</p></td>
<td><p>YCbCr411_8</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr411_8_CbYYCrYY</p></td>
<td><p>YCbCr411_8_CbYYCrYY**</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>YCbCr422_8_CbYCrY</p></td>
<td><p>YCbCr422_8_CbYCrY**</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr422_8_YCbYCr</p></td>
<td><p>YCbCr422_8_YCbYCr**</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>YCbCr8_CbYCr</p></td>
<td><p>YCbCr8_CbYCr  (4:4:4)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr8</p></td>
<td><p>YCbCr8  (4:4:4)</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>601_411_8_CbYYCrYY</p></td>
<td><p>YCbCr601_411_8_CbYYCrYY</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr601_422_8</p></td>
<td><p>YCbCr601_422_8</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>YCbCr601_422_8_CbYCrY</p></td>
<td><p>YCbCr601_422_8_CbYCrY  (4:2:2)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr601_8_CbYCr</p></td>
<td><p>YCbCr601_8_CbYCr (4:4:4)</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>YCbCr709_411_8_CbYYCrYY</p></td>
<td><p>YCbCr709_411_8_CbYYCrYY  (4:1:1)</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr709_422_8</p></td>
<td><p>YCbCr709_422_8</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>YCbCr709_422_8_CbYCrY</p></td>
<td><p>YCbCr709_422_8_CbYCrY</p></td>
</tr>
<tr class="row-even"><td colspan="2"><p>YCbCr709_8_CbYCr</p></td>
<td><p>YCbCr709_8_CbYCr (4:4:4)</p></td>
</tr>
<tr class="row-odd"><td colspan="3"><p>* BayerXY is any of BayerGR, BayerRG, BayerGB, or BayerBG</p></td>
</tr>
<tr class="row-even"><td colspan="3"><p>** Layout/values same as Yuv422</p></td>
</tr>
</tbody>
</table>
<p>Because the following pixel formats span a few bytes, or in some cases several
lines, their width and height or size (in pixels) must be divisible
by the following values:</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Minimum sizes for certain pixel formats</span><a class="headerlink" href="#id2" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 57%" />
<col style="width: 14%" />
<col style="width: 16%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Pixel format</p></th>
<th class="head"><p>Width</p></th>
<th class="head"><p>Height</p></th>
<th class="head"><p>Size</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Mono12Packed,Mono12p</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>BayerXY…</p></td>
<td><p>2</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>Yuv411</p></td>
<td><p>4</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>Yuv422</p></td>
<td><p>2</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="supported-transformations">
<span id="index-1"></span><h2>Supported transformations<a class="headerlink" href="#supported-transformations" title="Permalink to this headline"></a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For applying transformations, see the section <a class="reference internal" href="#transformation-examples"><span class="std std-ref">Transformation examples</span></a> in this manual
and the <em>AsynchrounousGrab</em> example.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Converting an image from a lower to a higher bit depth aligns the image data to
the least significant bit. The remaining bits are set to zero.</p>
</div>
<figure class="align-default" id="id3">
<a class="reference internal image-reference" href="_images/Supported-transformations.svg"><img alt="Supported transformations" src="_images/Supported-transformations.svg" width="2000" /></a>
<figcaption>
<p><span class="caption-text">Supported transformations (click to enlarge)</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Additionally to the lossless transformations described above, lossy
transformations are supported: Mono10p, Mono12p, and Mono12Packed have
a lossy conversion to 8-bit formats and a lossless conversion to
Mono10 and Mono12 (both LSB and Little Endian). The same is true for
Bayer and RGB formats. Additionally, they have a lossy conversion to Mono formats.</p>
<p>The following sections of this document describe how to apply a transformation.</p>
</section>
<section id="api-usage">
<h2>API usage<a class="headerlink" href="#api-usage" title="Permalink to this headline"></a></h2>
<section id="general-aspects">
<h3>General aspects<a class="headerlink" href="#general-aspects" title="Permalink to this headline"></a></h3>
<p>Every concrete image transformation must specify its three parameters:</p>
<ul class="simple">
<li><p>The fully-qualified input image (including complete format specification)</p></li>
<li><p>The complete output format (plus a pointer to enough memory to hold the
transformed image)</p></li>
<li><p>The transformation itself (including transformation options if there
is more than one possible way from the input format to the output format)</p></li>
</ul>
<p>The main function <code class="docutils literal notranslate"><span class="pre">VmbImageTransform()</span></code> covers all required transformation parameters.
The function uses two pointers of the <em>VmbImage</em> struct to specify the source and
destination image and a list of <code class="docutils literal notranslate"><span class="pre">VmbTransformInfo</span></code> structs to specify the
transformation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VmbImageTransform</span> <span class="p">(</span> <span class="o">&amp;</span><span class="n">sourceImage</span> <span class="p">,</span> <span class="o">&amp;</span><span class="n">destinationImage</span> <span class="p">,</span> <span class="o">&amp;</span><span class="n">info</span> <span class="p">,</span> <span class="mi">1</span> <span class="p">);</span>
</pre></div>
</div>
<p>To ease filling the structs that are needed for a successful call of
<code class="docutils literal notranslate"><span class="pre">VmbImageTransform()</span></code>, several helper functions for initializing them are available:</p>
<ul class="simple">
<li><p>Methods for filling the necessary format information of either the input
or the output image (described below in chapter Filling Image Information).</p></li>
<li><p>Methods for filling optional transformation parameters to invoke special
and additional functionality.</p></li>
</ul>
</section>
<section id="filling-image-information">
<h3>Filling Image Information<a class="headerlink" href="#filling-image-information" title="Permalink to this headline"></a></h3>
<p>The Image Transform library offers several methods to find an set a
compatible destination format.</p>
<p>To easily set a compatible destination image format, you can initialize
the <em>VmbImage</em> struct with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromInputImage()</span></code> by providing an input image from the C or C++ API, the output layout, and
bit depth</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromInputParameters()</span></code> by providing the input format, the input image
size, the output layout, and bit depth</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromPixelFormat()</span></code> by providing a VmbPixelFormat_t value and the size</p></li>
</ul>
<p>Experts can use <code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromString()</span></code> by providing a string
that describes the pixel format and the size.</p>
<p>Not recommended: Although it is not recommended, it is possible to fill
the fields explicitly one by one.</p>
</section>
<section id="specifying-transformation-options">
<h3>Specifying transformation options<a class="headerlink" href="#specifying-transformation-options" title="Permalink to this headline"></a></h3>
<p>Depending on your application and the desired image characteristics,
you can choose between several transformation options.</p>
<section id="adding-color-transformations">
<span id="index-2"></span><h4>Adding color transformations<a class="headerlink" href="#adding-color-transformations" title="Permalink to this headline"></a></h4>
<p>A common way to transform color images is using a 3x3 matrix with method
<code class="docutils literal notranslate"><span class="pre">VmbSetColorCorrectionMatrix3x3()</span></code>. The matrix you have to specify is a
3x3 row order float matrix.</p>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{pmatrix}
rr &amp; rg &amp; rb\\
gr &amp; gg &amp; gb\\
br &amp; bg &amp; bb
\end{pmatrix}\end{split}\]</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>
<section id="changing-the-debayering-algorithm">
<span id="index-3"></span><h4>Changing the debayering algorithm<a class="headerlink" href="#changing-the-debayering-algorithm" title="Permalink to this headline"></a></h4>
<p>Every transformation of a Bayer image requires defining how to interpolate
or combine the color pixels. For best system performance,
a simple 2x2 demosaicing algorithm is the default. You can change this algorithm
with an additional transformation parameter to
<code class="docutils literal notranslate"><span class="pre">VmbImageTransform()</span></code>, which can be filled with function
<code class="docutils literal notranslate"><span class="pre">VmbSetDebayerMode()</span></code>, using a <code class="docutils literal notranslate"><span class="pre">VmbDebayerMode()</span></code> as input.</p>
<p>Possible values of <code class="docutils literal notranslate"><span class="pre">VmbDebayerMode()</span></code> are listed in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VmbDebayerMode2x2</p></td>
<td><p>2x2 with green averaging (default, OpenMP only)</p></td>
</tr>
<tr class="row-odd"><td><p>VmbDebayerMode3x3</p></td>
<td><p>3x3 with equal green weighting per line</p></td>
</tr>
<tr class="row-even"><td><p>VmbDebayerModeLCAA*</p></td>
<td><p>Debayering with horizontal local color anti-aliasing</p></td>
</tr>
<tr class="row-odd"><td><p>VmbDebayerModeLCAAV*</p></td>
<td><p>Debayering with horizontal and vertical local color anti-aliasing</p></td>
</tr>
<tr class="row-even"><td><p>VmbDebayerModeYUV422*</p></td>
<td><p>Debayering with YUV422-alike sub-sampling</p></td>
</tr>
<tr class="row-odd"><td colspan="2"><p>* For 8-bit images only</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If <code class="docutils literal notranslate"><span class="pre">VmbDebayerModeLCAA</span></code>, <code class="docutils literal notranslate"><span class="pre">VmbDebayerModeLCAAV</span></code>, or
<code class="docutils literal notranslate"><span class="pre">VmbDebayerModeYUV422</span></code> is used, the input buffers serve as intermediate
buffers for the transformation for performance reasons. To use the
input buffer for another purpose, debayer afterwards or copy the input buffer
beforehand.</p>
</div>
</section>
</section>
<section id="transforming-images">
<h3>Transforming images<a class="headerlink" href="#transforming-images" title="Permalink to this headline"></a></h3>
<p>When all the parameters of a transformation are prepared, use the pre-filled structs and call
<code class="docutils literal notranslate"><span class="pre">VmbImageTransform()</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Inapplicable transformation options are ignored (for example, debayering options to a
monochrome input image).</p>
</div>
</section>
</section>
<section id="transformation-examples">
<h2>Transformation examples<a class="headerlink" href="#transformation-examples" title="Permalink to this headline"></a></h2>
<section id="debayering-into-an-rgb8-image">
<h3>Debayering into an Rgb8 image<a class="headerlink" href="#debayering-into-an-rgb8-image" title="Permalink to this headline"></a></h3>
<p>Transformation of a BayerGR8 image with 640x480
pixels into an Rgb8 image of the same size:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VmbImage</span><span class="w">                </span><span class="n">sourceImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbImage</span><span class="w">                </span><span class="n">destinationImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbTransformInfo</span><span class="w">        </span><span class="n">info</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Set size member for verification inside API</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Size</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Size</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Attach the data buffers</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Data</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">pInBuffer</span><span class="p">;</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Data</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pOutBuffer</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Fill image info from pixel format</span>
<span class="n">VmbSetImageInfoFromPixelFormat</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbPixelFormatBayerGR8</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">640</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">480</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Fill destination image info from input image</span>
<span class="n">VmbSetImageInfoFromInputImage</span><span class="w">  </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="n">VmbPixelLayoutRGB</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">8</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Set the debayering algorithm to 2x2</span>
<span class="n">VmbSetDebayerMode</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbDebayerMode2x2</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Perform the transformation</span>
<span class="n">VmbImageTransform</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="debayering-into-a-mono8-image">
<h3>Debayering into a Mono8 image<a class="headerlink" href="#debayering-into-a-mono8-image" title="Permalink to this headline"></a></h3>
<p>Preparing a transformation of a BayerRG8 image with 640x480 pixels into a Mono8 image
of the same size:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VmbImage</span><span class="w">                </span><span class="n">sourceImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbImage</span><span class="w">                </span><span class="n">destinationImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbTransformInfo</span><span class="w">        </span><span class="n">info</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Set size member for verification inside API</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Size</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Size</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Attach the data buffers</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Data</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">pInBuffer</span><span class="p">;</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Data</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pOutBuffer</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Fill image info from pixel format string</span>
<span class="n">std</span><span class="o">::</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="s">&quot;PixelFormatBayerRG8&quot;</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">VmbSetImageInfoFromString</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">c_str</span><span class="p">(),</span><span class="w"></span>
<span class="w">                            </span><span class="k">static_cast</span><span class="w"> </span><span class="o">&lt;</span><span class="n">VmbUint32_t</span><span class="w"> </span><span class="o">&gt;</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="w"> </span><span class="p">),</span><span class="w"></span>
<span class="w">                            </span><span class="mi">640</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="mi">480</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Fill image info from pixel known input parameters</span>
<span class="n">VmbSetImageInfoFromInputParameters</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbPixelFormatBayerRG8</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                     </span><span class="mi">640</span><span class="p">,</span><span class="w"></span>
<span class="w">                                     </span><span class="mi">480</span><span class="p">,</span><span class="w"></span>
<span class="w">                                     </span><span class="n">VmbPixelLayoutMono</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                     </span><span class="mi">8</span><span class="w"></span>
<span class="w">                                     </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Set the debayering algorithm to 3x3</span>
<span class="n">VmbSetDebayerMode</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbDebayerMode3x3</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Perform the transformation</span>
<span class="n">VmbImageTransform</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="color-correction-of-an-rgb8-image">
<h3>Color correction of an Rgb8 image<a class="headerlink" href="#color-correction-of-an-rgb8-image" title="Permalink to this headline"></a></h3>
<p>Applying a color correction to an Rgb8 image with 640x480 pixels:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VmbImage</span><span class="w">          </span><span class="n">sourceImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbImage</span><span class="w">          </span><span class="n">destinationImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbTransformInfo</span><span class="w">  </span><span class="n">info</span><span class="p">;</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">VmbFloat_t</span><span class="w">  </span><span class="n">mat</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="c1">// Set size member for verification inside API</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Size</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Size</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Attach the data buffers</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Data</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">pInBuffer</span><span class="p">;</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Data</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pOutBuffer</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Fill image info from pixel format</span>
<span class="n">VmbSetImageInfoFromPixelFormat</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbPixelFormatRgb8</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">640</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">480</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Fill destination image info from input image</span>
<span class="n">VmbSetImageInfoFromInputImage</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="n">VmbPixelLayoutRGB</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="mi">8</span><span class="p">,</span><span class="w"></span>
<span class="w">                                </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Set the transformation matrix</span>
<span class="n">VmbSetColorCorrectionMatrix3x3</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Perform the transformation</span>
<span class="n">VmbImageTransform</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="advanced-transformation-with-debayering">
<h3>Advanced transformation with debayering<a class="headerlink" href="#advanced-transformation-with-debayering" title="Permalink to this headline"></a></h3>
<p>Transformation of a BayerGR12 image with 640x480
pixels into a Mono16 image of the same size:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">VmbImage</span><span class="w">          </span><span class="n">sourceImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbImage</span><span class="w">          </span><span class="n">destinationImage</span><span class="p">;</span><span class="w"></span>
<span class="n">VmbTransformInfo</span><span class="w">  </span><span class="n">info</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="n">VmbFloat_t</span><span class="w">  </span><span class="n">mat</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"></span>
<span class="w">                            </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0f</span><span class="w"> </span><span class="p">};</span><span class="w"></span>

<span class="c1">// Set size member for verification inside API</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Size</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Size</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="k">sizeof</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Attach the data buffers</span>
<span class="n">sourceImage</span><span class="p">.</span><span class="n">Data</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="n">pInBuffer</span><span class="p">;</span><span class="w"></span>
<span class="n">destinationImage</span><span class="p">.</span><span class="n">Data</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">pOutBuffer</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Fill image info from pixel format</span>
<span class="n">VmbSetImageInfoFromPixelFormat</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbPixelFormatRgb8</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">640</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="mi">480</span><span class="p">,</span><span class="w"></span>
<span class="w">                                 </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Fill destination image info from input image</span>
<span class="n">VmbSetImageInfoFromInputImage</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                             </span><span class="n">VmbPixelLayoutMono</span><span class="w"> </span><span class="p">,</span><span class="w"></span>
<span class="w">                             </span><span class="mi">16</span><span class="p">,</span><span class="w"></span>
<span class="w">                             </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Set the debayering algorithm to 2x2</span>
<span class="n">VmbSetDebayerMode</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">VmbDebayerMode2x2</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Set the transformation matrix</span>
<span class="n">VmbSetColorCorrectionMatrix3x3</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">mat</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="c1">// Perform the transformation</span>
<span class="n">VmbImageTransform</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">sourceImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">destinationImage</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">info</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="function-reference">
<h2>Function reference<a class="headerlink" href="#function-reference" title="Permalink to this headline"></a></h2>
<section id="information">
<h3>Information<a class="headerlink" href="#information" title="Permalink to this headline"></a></h3>
<section id="vmbgetversion">
<h4>VmbGetVersion()<a class="headerlink" href="#vmbgetversion" title="Permalink to this headline"></a></h4>
<p>This function inquires the library version. It can be called at anytime, even before
the library is initialized.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 18%" />
<col style="width: 17%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>out</p></td>
<td><p>VmbUint32_t*</p></td>
<td><p>pValue</p></td>
<td><p>Contains the library version</p></td>
</tr>
</tbody>
</table>
<p><strong>VmbErrorBadParameter</strong>: If the given pointer is NULL</p>
</section>
<section id="vmbgeterrorinfo">
<h4>VmbGetErrorInfo()<a class="headerlink" href="#vmbgeterrorinfo" title="Permalink to this headline"></a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 19%" />
<col style="width: 18%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbError_t</p></td>
<td><p>errorCode</p></td>
<td><p>The error code to get a readable string for</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>VmbANSIChar_t*</p></td>
<td><p>pInfo</p></td>
<td><p>Pointer to a zero terminated string that <br>
contains error information on return</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>maxInfoLength</p></td>
<td><p>The length of the pInfo buffer</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vmbgetapiinfostring">
<h4>VmbGetApiInfoString()<a class="headerlink" href="#vmbgetapiinfostring" title="Permalink to this headline"></a></h4>
<table class="docutils align-default">
<colgroup>
<col style="width: 6%" />
<col style="width: 19%" />
<col style="width: 18%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbAPIInfo_t</p></td>
<td><p>infoType</p></td>
<td><p>Type of information to return</p></td>
</tr>
<tr class="row-odd"><td><p>out</p></td>
<td><p>VmbANSIChar_t*</p></td>
<td><p>pInfo</p></td>
<td><p>Pointer to a zero terminated string that <br></p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td></td>
<td><p>contains error information on return</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>maxInfoLength</p></td>
<td><p>The length of the pInfo buffer</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><strong>VmbErrorBadParameter</strong>: If the given pointer is NULL</div>
<div class="line"><strong>VmbErrorMoreData</strong>: If maxInfoLength is too small to hold the complete information</div>
</div>
<p>The parameter <em>infoType</em> may have one of the following values:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VmbAPIInfoAll</p></td>
<td><p>Return all information about the API</p></td>
</tr>
<tr class="row-odd"><td><p>VmbAPIInfoPlatform</p></td>
<td><p>Return information about the platform (x86 or x64)</p></td>
</tr>
<tr class="row-even"><td><p>VmbAPIInfoBuild</p></td>
<td><p>Return info about the API build (debug or release)</p></td>
</tr>
<tr class="row-odd"><td><p>VmbApiInfoTechnology</p></td>
<td><p>Return info about supported technologies, like OpenMP</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="transformation">
<h3>Transformation<a class="headerlink" href="#transformation" title="Permalink to this headline"></a></h3>
<section id="vmbimagetransform">
<h4>VmbImageTransform()<a class="headerlink" href="#vmbimagetransform" title="Permalink to this headline"></a></h4>
<p>This function transforms images from one pixel format to another with possible transformation
options. The transformation is defined by the provided images and the desired
transformation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 31%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>const VmbImage*</p></td>
<td><p>pSource</p></td>
<td><p>Image to transform</p></td>
</tr>
<tr class="row-odd"><td><p>in/out</p></td>
<td><p>VmbImage*</p></td>
<td><p>pDestination</p></td>
<td><p>Destination image</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>const VmbTransformInfo*</p></td>
<td><p>pParameter</p></td>
<td><p>Optional transform parameters</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>parameterCount</p></td>
<td><p>Number of transform parameters</p></td>
</tr>
</tbody>
</table>
<p><strong>VmbErrorBadParameter</strong>:</p>
<ul class="simple">
<li><p>If any image pointer or their “Data” members is NULL</p></li>
<li><p>If Width or Height doesn’t match between source and destination</p></li>
<li><p>If one of the parameters for the conversion does not fit</p></li>
</ul>
<div class="line-block">
<div class="line"><strong>VmbErrorStructSize</strong>: If the image structs size don’t match their “Size” member</div>
<div class="line"><strong>VmbErrorNotImplemented</strong>: If there is no supported transformation between source and destination format</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Fill the source and destination image info struct with
<code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromPixelFormat()</span></code> or
<code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromString()</span></code> and keep those structs as template. For
calls to transform, attach the image to the “Data” member. When set, the
optional parameters are constraints on the transform.</p>
</div>
</section>
</section>
<section id="helper-functions">
<h3>Helper functions<a class="headerlink" href="#helper-functions" title="Permalink to this headline"></a></h3>
<section id="vmbsetimageinfofrominputimage">
<h4>VmbSetImageInfoFromInputImage()<a class="headerlink" href="#vmbsetimageinfofrominputimage" title="Permalink to this headline"></a></h4>
<p>This function sets image info member values in <em>VmbImage</em> from input <em>VmbImage</em>.
Use simple target layout and bit per
pixel values to set the desired target format.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 20%" />
<col style="width: 22%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>const VmbImage*</p></td>
<td><p>pInputmage</p></td>
<td><p>Image source to transform</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbPixelLayout_t</p></td>
<td><p>OutputPixelLayout</p></td>
<td><p>Pixel layout of the target image</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>BitPerPixel</p></td>
<td><p>Bits per pixel of the target image</p></td>
</tr>
<tr class="row-odd"><td><p>in/out</p></td>
<td><p>VmbImage*</p></td>
<td><p>pOutputImage</p></td>
<td><p>Pointer to Vmb image to set the info to</p></td>
</tr>
</tbody>
</table>
<p><strong>VmbErrorBadParameter</strong>:</p>
<ul class="simple">
<li><p>If the given pointer is NULL</p></li>
<li><p>If one of the parameters for the conversion does not fit</p></li>
</ul>
<p><strong>VmbErrorNotImplemented</strong>: Transformation is not supported</p>
</section>
<section id="vmbsetimageinfofrominputparameters">
<h4>VmbSetImageInfoFromInputParameters()<a class="headerlink" href="#vmbsetimageinfofrominputparameters" title="Permalink to this headline"></a></h4>
<p>Set image info member values in <em>VmbImage</em> from pixel format.
Use simple target layout and bit per pixel
values to set the desired target format.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 20%" />
<col style="width: 22%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbPixelFormat_t</p></td>
<td><p>pInputmage</p></td>
<td><p>Image source to transform</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Width</p></td>
<td><p>Image width in pixels</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Height</p></td>
<td><p>Image height in pixels</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbPixelLayout_t</p></td>
<td><p>OutputPixelLayout</p></td>
<td><p>Pixel layout of the target image</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>BitPerPixel</p></td>
<td><p>Bits per pixel of the target image</p></td>
</tr>
<tr class="row-odd"><td><p>in/out</p></td>
<td><p>VmbImage*</p></td>
<td><p>pOutputImage</p></td>
<td><p>Pointer to Vimba image to set the info to</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><strong>VmbErrorBadParameter</strong>: If the given pointer is NULL or one of the image struct members is invalid</div>
<div class="line"><strong>VmbErrorNotImplemented</strong>: Transformation is not supported</div>
</div>
</section>
<section id="vmbsetimageinfofrompixelformat">
<h4>VmbSetImageInfoFromPixelFormat()<a class="headerlink" href="#vmbsetimageinfofrompixelformat" title="Permalink to this headline"></a></h4>
<p>This is an expert function. Set image info member values in <em>VmbImage</em> from pixel format.
As a reference, refer to section <a class="reference internal" href="#supported-transformations"><span class="std std-ref">Supported transformations</span></a>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 24%" />
<col style="width: 15%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>const VmbANSIChar_t*</p></td>
<td><p>imageFormat</p></td>
<td><p>Image format as a (const) case insensitive <br>
string that is either a PixelFormat <br>
(Vmb is optional) or a pixel struct name</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>StringLength</p></td>
<td><p>The length of the pixel format string</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Width</p></td>
<td><p>Image width in pixels</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Height</p></td>
<td><p>Image height in pixels</p></td>
</tr>
<tr class="row-even"><td><p>in/out</p></td>
<td><p>VmbImage*</p></td>
<td><p>pImage</p></td>
<td><p>Pointer to Vimba image to set the info to</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><strong>VmbErrorBadParameter</strong>: If the given pointer is NULL or one of the image struct members is invalid</div>
<div class="line"><strong>VmbErrorStructSize</strong>: If the image struct size doesn’t match its “Size” member</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><em>VmbPixelFormat_t</em> can be obtained from the C/C++ API’s frame or from the
<em>PixelFormat</em> feature. For displaying images, you can use
<code class="docutils literal notranslate"><span class="pre">VmbSetImageInfoFromString()</span></code> or to look up a matching VmbPixelFormat.</p>
</div>
</section>
<section id="vmbsetimageinfofromstring">
<h4>VmbSetImageInfoFromString()<a class="headerlink" href="#vmbsetimageinfofromstring" title="Permalink to this headline"></a></h4>
<p>This is an expert function. Set image info member values in <em>VmbImage</em> from string.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 24%" />
<col style="width: 15%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>const VmbANSIChar_t*</p></td>
<td><p>imageFormat</p></td>
<td><p>Image format as a (const) case insensitive <br>
string that is either a PixelFormat <br>
(Vmb is optional) or a pixel struct name</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>StringLength</p></td>
<td><p>The length of the pixel format string</p></td>
</tr>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Width</p></td>
<td><p>Image width in pixels</p></td>
</tr>
<tr class="row-odd"><td><p>in</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Height</p></td>
<td><p>Image height in pixels</p></td>
</tr>
<tr class="row-even"><td><p>in/out</p></td>
<td><p>VmbImage*</p></td>
<td><p>pImage</p></td>
<td><p>Pointer to Vimba image to set the info to</p></td>
</tr>
</tbody>
</table>
<p><strong>VmbErrorBadParameter</strong>:</p>
<ul class="simple">
<li><p>If one of the given pointers or the “Data” member in the image is NULL</p></li>
<li><p>If Width or Height don’t match between source and destination</p></li>
<li><p>If one of the parameters for the conversion does not fit</p></li>
</ul>
<div class="line-block">
<div class="line"><strong>VmbErrorStructSize</strong>: If the image struct size doesn’t match its “Size” member</div>
<div class="line"><strong>VmbErrorResources</strong>: If the there was a memory fault during processing</div>
</div>
</section>
<section id="vmbsetdebayermode">
<h4>VmbSetDebayerMode()<a class="headerlink" href="#vmbsetdebayermode" title="Permalink to this headline"></a></h4>
<p>Set transformation options to a predefined debayering mode.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Debayering is only applicable to image formats with both an even width and an
even height.</p>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 22%" />
<col style="width: 16%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>VmbDebayerMode_t</p></td>
<td><p>DebayerMode</p></td>
<td><p>Used for debayering the source raw        <br>
image. Default: 2x2.</p></td>
</tr>
<tr class="row-odd"><td><p>in/out</p></td>
<td><p>VmbTransformInfo_t*</p></td>
<td><p>pTransformInfo</p></td>
<td><p>Parameter that contains information about <br>
special transform functionality</p></td>
</tr>
</tbody>
</table>
<p>VmbErrorBadParameter: If the given pointer is NULL</p>
</section>
<section id="vmbsetcolorcorrectionmatrix3x3">
<h4>VmbSetColorCorrectionMatrix3x3()<a class="headerlink" href="#vmbsetcolorcorrectionmatrix3x3" title="Permalink to this headline"></a></h4>
<p>Set transformation options to a 3x3 color matrix transformation.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 9%" />
<col style="width: 22%" />
<col style="width: 16%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>in</p></td>
<td><p>const VmbFloat_t*</p></td>
<td><p>DebayerMode</p></td>
<td><p>Color correction matrix</p></td>
</tr>
<tr class="row-odd"><td><p>in/out</p></td>
<td><p>VmbTransformInfo_t*</p></td>
<td><p>pTransformInfo</p></td>
<td><p>Parameter that contains information about <br>
special transform functionality</p></td>
</tr>
</tbody>
</table>
<p><strong>VmbErrorBadParameter</strong>: If one of the given pointers is NULL</p>
</section>
</section>
</section>
<section id="structs">
<h2>Structs<a class="headerlink" href="#structs" title="Permalink to this headline"></a></h2>
<section id="vmbimage">
<h3>VmbImage<a class="headerlink" href="#vmbimage" title="Permalink to this headline"></a></h3>
<p>VmbImage encapsulates image data for the transformation function.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 11%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Struct entry</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VmbUint32_t</p></td>
<td><p>Size</p></td>
<td><p>Size of the structure</p></td>
</tr>
<tr class="row-odd"><td><p>void*</p></td>
<td><p>Data</p></td>
<td><p>Pointer to the payload received from the C/C++ API <br> or to the display
image data</p></td>
</tr>
<tr class="row-even"><td><p>VmbImageInfo</p></td>
<td><p>ImageInfo</p></td>
<td><p>Internal information data for mapping the images <br>
to the correct transformation. Set with <br>
VmbSetImageInfo() helper functions from VmbPixelFormat_t <br>
or format string</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vmbimageinfo">
<h3>VmbImageInfo<a class="headerlink" href="#vmbimageinfo" title="Permalink to this headline"></a></h3>
<p>VmbImageInfo contains image information needed for the transformation function.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 11%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Struct entry</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VmbUint32_t</p></td>
<td><p>Width</p></td>
<td><p>Image width in pixels or sub-pixels for macro pixel <br>
formats like YUV</p></td>
</tr>
<tr class="row-odd"><td><p>VmbUint32_t</p></td>
<td><p>Height</p></td>
<td><p>The height of the image in pixels</p></td>
</tr>
<tr class="row-even"><td><p>VmbInt32_t</p></td>
<td><p>Stride</p></td>
<td><p>The offset from the current line to the next line, <br>
a value not equal to Width is currently not supported <br></p></td>
</tr>
<tr class="row-odd"><td><p>VmbPixelInfo</p></td>
<td><p>PixelInfo</p></td>
<td><p>Information about the pixel format</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vmbpixelinfo">
<h3>VmbPixelInfo<a class="headerlink" href="#vmbpixelinfo" title="Permalink to this headline"></a></h3>
<p>The pixel format of an image is described within <code class="docutils literal notranslate"><span class="pre">VmbPixelInfo</span></code>.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 11%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Struct entry</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VmbUint32_t</p></td>
<td><p>VmbUint32_t</p></td>
<td><p>Number of bits for one image pixel or sub-pixel in macro <br></p>
<p>pixel formats</p>
</td>
</tr>
<tr class="row-odd"><td><p>VmbUint32_t</p></td>
<td><p>BitsUsed</p></td>
<td><p>Number of bits used per pixel, e.g. RGB12 has 48 bits per <br></p>
<p>pixel and 36 bits used</p>
</td>
</tr>
<tr class="row-even"><td><p>VmbAlignment_t</p></td>
<td><p>Alignment</p></td>
<td><p>For image formats where BitsPerPixel is not equal to <br></p>
<p>bitsUsed, the alignment specifies the bit layout of the pixel</p>
</td>
</tr>
<tr class="row-odd"><td><p>VmbEndianness_t</p></td>
<td><p>Endianness</p></td>
<td><p>Specifies the endianness of pixels that are larger than <br></p>
<p>one byte</p>
</td>
</tr>
<tr class="row-even"><td><p>VmbPixelLayout_t</p></td>
<td><p>PixelLayout</p></td>
<td><p>Describes the layout of the pixel component, e.g., RGB or <br></p>
<p>BGR layout</p>
</td>
</tr>
<tr class="row-odd"><td><p>VmbBayerPattern_t</p></td>
<td><p>BayerPattern</p></td>
<td><p>For raw image data, this field specifies the color filter <br> array layout of the sensor</p></td>
</tr>
</tbody>
</table>
</section>
<section id="vmbtransforminfo">
<h3>VmbTransformInfo<a class="headerlink" href="#vmbtransforminfo" title="Permalink to this headline"></a></h3>
<p>Transformation parameters given as a pointer to a <code class="docutils literal notranslate"><span class="pre">VmbTransformInfo</span></code> struct are
used to invoke special and additional functionality, which is applied while
interpreting the source image (debayering) or transforming the images (color correction).</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 16%" />
<col style="width: 58%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Struct entry</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>VmbTransformType_t</p></td>
<td><p>TransformType</p></td>
<td><p>Transform info type, may be  <br>
VmbTransformTypeDebayerMode  <br>
or VmbTransformTypeColorCorrection Matrix</p></td>
</tr>
<tr class="row-odd"><td><p>VmbTransformParameter</p></td>
<td><p>Parameter</p></td>
<td><p>Transform info variant, may be <br>
VmbTransformParameterDebayer <br>
or VmbTransformParameterMatrix3x3</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pythonAPIManual.html" class="btn btn-neutral float-left" title="Python API Manual" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="troubleshooting.html" class="btn btn-neutral float-right" title="Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Allied Vision.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>